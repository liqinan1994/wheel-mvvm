<script>
	// 观察者模式

	class Subject{
		constructor(){
			this.observers = []
		}
        addObserver(observer){
        	console.log('add')
        	this.observers.push(observer)
        }
        removeObserver(observer){
        	var index = this.observers.indexOf(observer)
        	if(index>-1){
        		this.observers.splice(index,1)
        	}
        }
        notify(){
        	for(var i in this.observers){
        	    this.observers[i].update()
        	}
        }
	}

	class Observer{
		constructor(){
			this.update()
		}
		update(){
            console.log(`update...`)
		}
	}

	var observer1 = new Observer()
	var observer2 = new Observer()
	var subject = new Subject()
	subject.addObserver(observer1)
	subject.addObserver(observer2)
	subject.notify()

</script>